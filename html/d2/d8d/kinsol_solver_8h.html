<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OMCompilerDoxygen: SimulationRuntime/c/simulation/solver/kinsolSolver.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OMCompilerDoxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_8a599d73c711b09f543f837d67156c7e.html">SimulationRuntime</a></li><li class="navelem"><a class="el" href="../../dir_19412f53da1c351bcc70839d1016444a.html">c</a></li><li class="navelem"><a class="el" href="../../dir_6e3217e9c3ebb2fbe33f909d259e5d79.html">simulation</a></li><li class="navelem"><a class="el" href="../../dir_5c39625696d485c4bdc40a64bdeead6f.html">solver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">kinsolSolver.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../d2/d8d/kinsol_solver_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a08a16dae78a7c0adea7633b4cf63dcab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8d/kinsol_solver_8h.html#a08a16dae78a7c0adea7633b4cf63dcab">nlsKinsolAllocate</a> (<a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> <a class="el" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>, <a class="el" href="../../d8/ddc/struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a.html">NONLINEAR_SYSTEM_DATA</a> *nonlinsys, <a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> linearSolverMethod)</td></tr>
<tr class="separator:a08a16dae78a7c0adea7633b4cf63dcab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a440d4686d585487acdd63d08bb4e28f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8d/kinsol_solver_8h.html#a440d4686d585487acdd63d08bb4e28f6">nlsKinsolFree</a> (<a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#ac7828c7b2b31d2e11af17bdb6289c5d9">void</a> **solverData)</td></tr>
<tr class="separator:a440d4686d585487acdd63d08bb4e28f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452aea90e6416824f2994a0ffd52eaac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8d/kinsol_solver_8h.html#a452aea90e6416824f2994a0ffd52eaac">nlsKinsolSolve</a> (<a class="el" href="../../d6/ddb/struct_d_a_t_a.html">DATA</a> *<a class="el" href="../../df/dea/structdata.html">data</a>, <a class="el" href="../../df/d90/build_2include_2omc_2c_2gc_2omc__gc_8h.html#a2f007e1ae0f6eee14f4950f3ef19029a">threadData_t</a> *threadData, <a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> sysNumber)</td></tr>
<tr class="separator:a452aea90e6416824f2994a0ffd52eaac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a08a16dae78a7c0adea7633b4cf63dcab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08a16dae78a7c0adea7633b4cf63dcab">&#9670;&nbsp;</a></span>nlsKinsolAllocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> nlsKinsolAllocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/ddc/struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a.html">NONLINEAR_SYSTEM_DATA</a> *&#160;</td>
          <td class="paramname"><em>nonlinsys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td>
          <td class="paramname"><em>linearSolverMethod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d94/kinsol_solver_8c_source.html#l00182">182</a> of file <a class="el" href="../../d3/d94/kinsol_solver_8c_source.html">kinsolSolver.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>, printLevel;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a> *kinsolData = (<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a>*) <a class="code" href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b">malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a>));</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">/* allocate system data */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  nlsData-&gt;solverData = (<span class="keywordtype">void</span>*)kinsolData;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a7e27ea60fa77e19147bf6ad2ab13c65a">size</a> = <a class="code" href="../../d3/dc8/class_teuchos_1_1_comm.html#a346c8703a1ee3cb18cf3c812678cb01c">size</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a8a2c5c8d36f0b9b5c832fbc235d486ae">linearSolverMethod</a> = linearSolverMethod;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a4fc008d09617cc7e3f0574fc14a483d8">solved</a> = 0;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a77323eabe1da5a48e67462439dd0429c">fnormtol</a>  = <a class="code" href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c.html#a91e8b54c1f4e6e9b40daaeae56458f42">newtonFTol</a>;     <span class="comment">/* function tolerance */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a8be8e00a96d1afa9e87938a78a5b73f1">scsteptol</a> = <a class="code" href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c.html#aa69985ba1a158ca420795bf14fd8849b">newtonXTol</a>;     <span class="comment">/* step tolerance */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a24377a54f489582c526da9cf1d5d6939">maxstepfactor</a> = <a class="code" href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c.html#ae5c668ef5cbea75426e320d40de68704">maxStepFactor</a>;     <span class="comment">/* step tolerance */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a236338fff29dfec1c062d5c5d10881b0">nominalJac</a> = 0;             <span class="comment">/* calculate for scaling the scaled matrix */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a5b3c5eb75465ba9fb8ba5cf18aa4971d">initialGuess</a> = <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a5b4902b07c8f46f60fc15a3185151b18">N_VNew_Serial</a>(<a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a00a5eb510a0b73bc64581f9002fbd18c">xScale</a> = <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a5b4902b07c8f46f60fc15a3185151b18">N_VNew_Serial</a>(<a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a578c639e4c4d4cf117de6f60df307d32">fScale</a> = <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a5b4902b07c8f46f60fc15a3185151b18">N_VNew_Serial</a>(<a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#acefe62f1ed83de445d0ff349883da309">fRes</a> = <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a5b4902b07c8f46f60fc15a3185151b18">N_VNew_Serial</a>(<a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a02346f458bd31897dd955758c769921b">fTmp</a> = <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a5b4902b07c8f46f60fc15a3185151b18">N_VNew_Serial</a>(<a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a> = <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a89763025b8da48ba4540fb1230c41180">KINCreate</a>();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">/* setup user defined functions */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#ae5cae52385f6eb1193e3f864fa881d44">KINSetErrHandlerFn</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, nlsKinsolErrorPrint, kinsolData);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#ab7253e0ba666fda35f6908eb720186ca">KINSetInfoHandlerFn</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, nlsKinsolInfoPrint, kinsolData);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a84da33245876b6bba3e45eddf4d9cb17">KINSetUserData</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, (<span class="keywordtype">void</span>*)&amp;(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a84c0ae61f17a43c1a78c36d2c9b542c0">userData</a>));</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  flag = <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a7af16d9a01bf420f4f1b16d95c1e672b">KINInit</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, nlsKinsolResiduals, kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a5b3c5eb75465ba9fb8ba5cf18aa4971d">initialGuess</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d3/d94/kinsol_solver_8c.html#a1f6ca2daa2065db83ab92562e24ff8f6">checkReturnFlag</a>(flag)){</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#ae9cdaaa7e64a2f6cad4a785d8e216a13">errorStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03">LOG_STDOUT</a>, 0, <span class="stringliteral">&quot;##KINSOL## Something goes wrong while initialize KINSOL solver!&quot;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">/* Specify linear solver and/or corresponding jacobian function*/</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> (kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a8a2c5c8d36f0b9b5c832fbc235d486ae">linearSolverMethod</a> == <a class="code" href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h.html#afc88292a47816fb8658213149c9d657ba7e3a02c64b8a8da5f9baf11c23cbb2f9">NLS_LS_KLU</a>)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span>(nlsData-&gt;isPatternAvailable)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a3c8e9931fd282ac600e740a02f29ad62">nnz</a> = nlsData-&gt;sparsePattern.numberOfNoneZeros;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      flag = <a class="code" href="../../d5/d69/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__klu_8h.html#aaf42083b7228c7daed80f051307e58f3">KINKLU</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, <a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>, kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a3c8e9931fd282ac600e740a02f29ad62">nnz</a>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d94/kinsol_solver_8c.html#a1f6ca2daa2065db83ab92562e24ff8f6">checkReturnFlag</a>(flag)){</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#ae9cdaaa7e64a2f6cad4a785d8e216a13">errorStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03">LOG_STDOUT</a>, 0, <span class="stringliteral">&quot;##KINSOL## Something goes wrong while initialize KINSOL solver!&quot;</span>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">if</span> (nlsData-&gt;analyticalJacobianColumn != NULL){</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        flag = <a class="code" href="../../de/d7c/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__sparse_8h.html#adacca5753b7fee2da80f5af39ed50f4a">KINSlsSetSparseJacFn</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, nlsSparseSymJac);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        flag = <a class="code" href="../../de/d7c/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__sparse_8h.html#adacca5753b7fee2da80f5af39ed50f4a">KINSlsSetSparseJacFn</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, nlsSparseJac);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d94/kinsol_solver_8c.html#a1f6ca2daa2065db83ab92562e24ff8f6">checkReturnFlag</a>(flag)){</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#ae9cdaaa7e64a2f6cad4a785d8e216a13">errorStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03">LOG_STDOUT</a>, 0, <span class="stringliteral">&quot;##KINSOL## Something goes wrong while initialize KINSOL Sparse Solver!&quot;</span>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      flag = <a class="code" href="../../db/d5d/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__dense_8h.html#aef0889d9e5c22b373b72b3b235ca7544">KINDense</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, <a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d94/kinsol_solver_8c.html#a1f6ca2daa2065db83ab92562e24ff8f6">checkReturnFlag</a>(flag)){</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#ae9cdaaa7e64a2f6cad4a785d8e216a13">errorStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03">LOG_STDOUT</a>, 0, <span class="stringliteral">&quot;##KINSOL## Something goes wrong while initialize KINSOL solver!&quot;</span>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a8a2c5c8d36f0b9b5c832fbc235d486ae">linearSolverMethod</a> == <a class="code" href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h.html#afc88292a47816fb8658213149c9d657bae8c4d2abad56633cf30148a5f86d9d39">NLS_LS_TOTALPIVOT</a>)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    flag = <a class="code" href="../../db/d5d/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__dense_8h.html#aef0889d9e5c22b373b72b3b235ca7544">KINDense</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, <a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d94/kinsol_solver_8c.html#a1f6ca2daa2065db83ab92562e24ff8f6">checkReturnFlag</a>(flag)){</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#ae9cdaaa7e64a2f6cad4a785d8e216a13">errorStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03">LOG_STDOUT</a>, 0, <span class="stringliteral">&quot;##KINSOL## Something goes wrong while initialize KINSOL solver!&quot;</span>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a8a2c5c8d36f0b9b5c832fbc235d486ae">linearSolverMethod</a> == <a class="code" href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h.html#afc88292a47816fb8658213149c9d657ba70d59f60bda3b6ff38a0c7e180ca9ca1">NLS_LS_LAPACK</a>)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    flag = <a class="code" href="../../db/d5d/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__dense_8h.html#aef0889d9e5c22b373b72b3b235ca7544">KINDense</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, <a class="code" href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d94/kinsol_solver_8c.html#a1f6ca2daa2065db83ab92562e24ff8f6">checkReturnFlag</a>(flag)){</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#ae9cdaaa7e64a2f6cad4a785d8e216a13">errorStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03">LOG_STDOUT</a>, 0, <span class="stringliteral">&quot;##KINSOL## Something goes wrong while initialize KINSOL solver!&quot;</span>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    flag = <a class="code" href="../../d9/d80/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__direct_8h.html#a54961dd6d4e19fcef88d2fe5b343f677">KINDlsSetDenseJacFn</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, nlsDenseJac);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d94/kinsol_solver_8c.html#a1f6ca2daa2065db83ab92562e24ff8f6">checkReturnFlag</a>(flag)){</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#ae9cdaaa7e64a2f6cad4a785d8e216a13">errorStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03">LOG_STDOUT</a>, 0, <span class="stringliteral">&quot;##KINSOL## Something goes wrong while initialize KINSOL Sparse Solver!&quot;</span>);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">/* configuration */</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  nlsKinsolConfigSetup(kinsolData);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">/* debug print level of kinsol */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">if</span> (ACTIVE_STREAM(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a>)) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    printLevel = 3;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ACTIVE_STREAM(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35a76171821cd4ea295fa3c455d6092b160">LOG_NLS</a>)) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    printLevel = 1;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    printLevel = 0;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a62e258816bcff3708e06d3faf8fc6af5">KINSetPrintLevel</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>, printLevel);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_ab7253e0ba666fda35f6908eb720186ca"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#ab7253e0ba666fda35f6908eb720186ca">KINSetInfoHandlerFn</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINSetInfoHandlerFn(void *kinmem, KINInfoHandlerFn ihfun, void *ih_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df4/kinsol__io_8c_source.html#l00131">kinsol_io.c:131</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a3c8e9931fd282ac600e740a02f29ad62"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a3c8e9931fd282ac600e740a02f29ad62">NLS_KINSOL_DATA::nnz</a></div><div class="ttdeci">int nnz</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00130">kinsolSolver.c:130</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a24377a54f489582c526da9cf1d5d6939"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a24377a54f489582c526da9cf1d5d6939">NLS_KINSOL_DATA::maxstepfactor</a></div><div class="ttdeci">double maxstepfactor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00112">kinsolSolver.c:112</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_a89763025b8da48ba4540fb1230c41180"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a89763025b8da48ba4540fb1230c41180">KINCreate</a></div><div class="ttdeci">SUNDIALS_EXPORT void * KINCreate(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d42/kinsol_8c_source.html#l00222">kinsol.c:222</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h_html_a5b4902b07c8f46f60fc15a3185151b18"><div class="ttname"><a href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a5b4902b07c8f46f60fc15a3185151b18">N_VNew_Serial</a></div><div class="ttdeci">SUNDIALS_EXPORT N_Vector N_VNew_Serial(long int vec_length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d31/nvector__serial_8c_source.html#l00129">nvector_serial.c:129</a></div></div>
<div class="ttc" id="3rd_party_2dgesv_2include_2f2c_8h_html_abf5d144da384425ae6cb542ce6eec8d3"><div class="ttname"><a href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a></div><div class="ttdeci">short flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h_source.html#l00046">f2c.h:46</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8h_html_a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205"><div class="ttname"><a href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h_source.html#l00101">omc_error.h:101</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol__sparse_8h_html_adacca5753b7fee2da80f5af39ed50f4a"><div class="ttname"><a href="../../de/d7c/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__sparse_8h.html#adacca5753b7fee2da80f5af39ed50f4a">KINSlsSetSparseJacFn</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINSlsSetSparseJacFn(void *kin_mem_v, KINSlsSparseJacFn jac)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/kinsol__sparse_8c_source.html#l00054">kinsol_sparse.c:54</a></div></div>
<div class="ttc" id="class_teuchos_1_1_comm_html_a346c8703a1ee3cb18cf3c812678cb01c"><div class="ttname"><a href="../../d3/dc8/class_teuchos_1_1_comm.html#a346c8703a1ee3cb18cf3c812678cb01c">Teuchos::Comm::size</a></div><div class="ttdeci">int size(const Comm&lt; Ordinal &gt; &amp;comm)</div><div class="ttdoc">Get the number of processes in the communicator. </div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a529ae4dde06a84d37d0b92bef7ca212f"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">NLS_KINSOL_DATA::kinsolMemory</a></div><div class="ttdeci">void * kinsolMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00125">kinsolSolver.c:125</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_a84da33245876b6bba3e45eddf4d9cb17"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a84da33245876b6bba3e45eddf4d9cb17">KINSetUserData</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINSetUserData(void *kinmem, void *user_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df4/kinsol__io_8c_source.html#l00176">kinsol_io.c:176</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol__klu_8h_html_aaf42083b7228c7daed80f051307e58f3"><div class="ttname"><a href="../../d5/d69/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__klu_8h.html#aaf42083b7228c7daed80f051307e58f3">KINKLU</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINKLU(void *kin_mem, int n, int nnz)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df7/kinsol__klu_8c_source.html#l00070">kinsol_klu.c:70</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a236338fff29dfec1c062d5c5d10881b0"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a236338fff29dfec1c062d5c5d10881b0">NLS_KINSOL_DATA::nominalJac</a></div><div class="ttdeci">int nominalJac</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00107">kinsolSolver.c:107</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8c_html_ae9cdaaa7e64a2f6cad4a785d8e216a13"><div class="ttname"><a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#ae9cdaaa7e64a2f6cad4a785d8e216a13">errorStreamPrint</a></div><div class="ttdeci">void errorStreamPrint(int stream, int indentNext, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c_source.html#l00356">omc_error.c:356</a></div></div>
<div class="ttc" id="3rd_party_2flex-2_85_835_2parse_8c_html_a5faf6a2d99f50a4655dd390199a8db7b"><div class="ttname"><a href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b">malloc</a></div><div class="ttdeci">void * malloc(YYSIZE_T)</div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a02346f458bd31897dd955758c769921b"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a02346f458bd31897dd955758c769921b">NLS_KINSOL_DATA::fTmp</a></div><div class="ttdeci">N_Vector fTmp</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00119">kinsolSolver.c:119</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2simulation__options_8h_html_afc88292a47816fb8658213149c9d657bae8c4d2abad56633cf30148a5f86d9d39"><div class="ttname"><a href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h.html#afc88292a47816fb8658213149c9d657bae8c4d2abad56633cf30148a5f86d9d39">NLS_LS_TOTALPIVOT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h_source.html#l00320">simulation_options.h:320</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_acefe62f1ed83de445d0ff349883da309"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#acefe62f1ed83de445d0ff349883da309">NLS_KINSOL_DATA::fRes</a></div><div class="ttdeci">N_Vector fRes</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00118">kinsolSolver.c:118</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2simulation__options_8h_html_afc88292a47816fb8658213149c9d657ba7e3a02c64b8a8da5f9baf11c23cbb2f9"><div class="ttname"><a href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h.html#afc88292a47816fb8658213149c9d657ba7e3a02c64b8a8da5f9baf11c23cbb2f9">NLS_LS_KLU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h_source.html#l00322">simulation_options.h:322</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a77323eabe1da5a48e67462439dd0429c"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a77323eabe1da5a48e67462439dd0429c">NLS_KINSOL_DATA::fnormtol</a></div><div class="ttdeci">double fnormtol</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00110">kinsolSolver.c:110</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00099">kinsolSolver.c:99</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a5b3c5eb75465ba9fb8ba5cf18aa4971d"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a5b3c5eb75465ba9fb8ba5cf18aa4971d">NLS_KINSOL_DATA::initialGuess</a></div><div class="ttdeci">N_Vector initialGuess</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00115">kinsolSolver.c:115</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2simulation_2solver_2model__help_8c_html_aa69985ba1a158ca420795bf14fd8849b"><div class="ttname"><a href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c.html#aa69985ba1a158ca420795bf14fd8849b">newtonXTol</a></div><div class="ttdeci">double newtonXTol</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c_source.html#l00060">model_help.c:60</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2simulation_2solver_2model__help_8c_html_ae5c668ef5cbea75426e320d40de68704"><div class="ttname"><a href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c.html#ae5c668ef5cbea75426e320d40de68704">maxStepFactor</a></div><div class="ttdeci">double maxStepFactor</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c_source.html#l00059">model_help.c:59</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8h_html_a5f082c3c00d347c0b34e597a99f8dc35a76171821cd4ea295fa3c455d6092b160"><div class="ttname"><a href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35a76171821cd4ea295fa3c455d6092b160">LOG_NLS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h_source.html#l00100">omc_error.h:100</a></div></div>
<div class="ttc" id="kinsol_solver_8c_html_a1f6ca2daa2065db83ab92562e24ff8f6"><div class="ttname"><a href="../../d3/d94/kinsol_solver_8c.html#a1f6ca2daa2065db83ab92562e24ff8f6">checkReturnFlag</a></div><div class="ttdeci">int checkReturnFlag(int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00145">kinsolSolver.c:145</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a84c0ae61f17a43c1a78c36d2c9b542c0"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a84c0ae61f17a43c1a78c36d2c9b542c0">NLS_KINSOL_DATA::userData</a></div><div class="ttdeci">NLS_KINSOL_USERDATA userData</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00126">kinsolSolver.c:126</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_a7af16d9a01bf420f4f1b16d95c1e672b"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a7af16d9a01bf420f4f1b16d95c1e672b">KINInit</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINInit(void *kinmem, KINSysFn func, N_Vector tmpl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d42/kinsol_8c_source.html#l00316">kinsol.c:316</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a00a5eb510a0b73bc64581f9002fbd18c"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a00a5eb510a0b73bc64581f9002fbd18c">NLS_KINSOL_DATA::xScale</a></div><div class="ttdeci">N_Vector xScale</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00116">kinsolSolver.c:116</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8h_html_a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03"><div class="ttname"><a href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35af8cc8d34ec0e4778ccf6a79de1e09b03">LOG_STDOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h_source.html#l00079">omc_error.h:79</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2simulation_2solver_2model__help_8c_html_a91e8b54c1f4e6e9b40daaeae56458f42"><div class="ttname"><a href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c.html#a91e8b54c1f4e6e9b40daaeae56458f42">newtonFTol</a></div><div class="ttdeci">double newtonFTol</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/build_2include_2omc_2c_2simulation_2solver_2model__help_8c_source.html#l00061">model_help.c:61</a></div></div>
<div class="ttc" id="3rd_party_2flex-2_85_835_2parse_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c_source.html#l00193">parse.c:193</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_ae5cae52385f6eb1193e3f864fa881d44"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#ae5cae52385f6eb1193e3f864fa881d44">KINSetErrHandlerFn</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINSetErrHandlerFn(void *kinmem, KINErrHandlerFn ehfun, void *eh_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df4/kinsol__io_8c_source.html#l00058">kinsol_io.c:58</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2simulation__options_8h_html_afc88292a47816fb8658213149c9d657ba70d59f60bda3b6ff38a0c7e180ca9ca1"><div class="ttname"><a href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h.html#afc88292a47816fb8658213149c9d657ba70d59f60bda3b6ff38a0c7e180ca9ca1">NLS_LS_LAPACK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0e/build_2include_2omc_2c_2util_2simulation__options_8h_source.html#l00321">simulation_options.h:321</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol__dense_8h_html_aef0889d9e5c22b373b72b3b235ca7544"><div class="ttname"><a href="../../db/d5d/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__dense_8h.html#aef0889d9e5c22b373b72b3b235ca7544">KINDense</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINDense(void *kinmem, long int N)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d68/kinsol__dense_8c_source.html#l00122">kinsol_dense.c:122</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a8be8e00a96d1afa9e87938a78a5b73f1"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a8be8e00a96d1afa9e87938a78a5b73f1">NLS_KINSOL_DATA::scsteptol</a></div><div class="ttdeci">double scsteptol</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00111">kinsolSolver.c:111</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol__direct_8h_html_a54961dd6d4e19fcef88d2fe5b343f677"><div class="ttname"><a href="../../d9/d80/3rd_party_2sundials_2build_2include_2kinsol_2kinsol__direct_8h.html#a54961dd6d4e19fcef88d2fe5b343f677">KINDlsSetDenseJacFn</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINDlsSetDenseJacFn(void *kinmem, KINDlsDenseJacFn jac)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/kinsol__direct_8c_source.html#l00107">kinsol_direct.c:107</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a7e27ea60fa77e19147bf6ad2ab13c65a"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a7e27ea60fa77e19147bf6ad2ab13c65a">NLS_KINSOL_DATA::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00129">kinsolSolver.c:129</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a8a2c5c8d36f0b9b5c832fbc235d486ae"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a8a2c5c8d36f0b9b5c832fbc235d486ae">NLS_KINSOL_DATA::linearSolverMethod</a></div><div class="ttdeci">int linearSolverMethod</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00102">kinsolSolver.c:102</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_a62e258816bcff3708e06d3faf8fc6af5"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a62e258816bcff3708e06d3faf8fc6af5">KINSetPrintLevel</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINSetPrintLevel(void *kinmemm, int printfl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df4/kinsol__io_8c_source.html#l00104">kinsol_io.c:104</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a4fc008d09617cc7e3f0574fc14a483d8"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a4fc008d09617cc7e3f0574fc14a483d8">NLS_KINSOL_DATA::solved</a></div><div class="ttdeci">int solved</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00106">kinsolSolver.c:106</a></div></div>
<div class="ttc" id="ioapi_8h_html_a3728291d90c8c81bb270d14427a775d7"><div class="ttname"><a href="../../d2/db7/ioapi_8h.html#a3728291d90c8c81bb270d14427a775d7">size</a></div><div class="ttdeci">voidpf void uLong size</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ioapi_8h_source.html#l00136">ioapi.h:136</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a578c639e4c4d4cf117de6f60df307d32"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a578c639e4c4d4cf117de6f60df307d32">NLS_KINSOL_DATA::fScale</a></div><div class="ttdeci">N_Vector fScale</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00117">kinsolSolver.c:117</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8d/kinsol_solver_8h_a08a16dae78a7c0adea7633b4cf63dcab_cgraph.svg" width="324" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a440d4686d585487acdd63d08bb4e28f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a440d4686d585487acdd63d08bb4e28f6">&#9670;&nbsp;</a></span>nlsKinsolFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> nlsKinsolFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#ac7828c7b2b31d2e11af17bdb6289c5d9">void</a> **&#160;</td>
          <td class="paramname"><em>solverData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d94/kinsol_solver_8c_source.html#l00279">279</a> of file <a class="el" href="../../d3/d94/kinsol_solver_8c_source.html">kinsolSolver.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a>* kinsolData = (<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a>*) *solverData;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a2674aca2d67da1b16ce1a2b0aa5e6736">KINFree</a>((<span class="keywordtype">void</span>*)&amp;kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">kinsolMemory</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a2d7c17f7a93605e4278dd9156f7f3b82">N_VDestroy_Serial</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a5b3c5eb75465ba9fb8ba5cf18aa4971d">initialGuess</a>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a2d7c17f7a93605e4278dd9156f7f3b82">N_VDestroy_Serial</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a00a5eb510a0b73bc64581f9002fbd18c">xScale</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a2d7c17f7a93605e4278dd9156f7f3b82">N_VDestroy_Serial</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a578c639e4c4d4cf117de6f60df307d32">fScale</a>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a2d7c17f7a93605e4278dd9156f7f3b82">N_VDestroy_Serial</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#acefe62f1ed83de445d0ff349883da309">fRes</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a2d7c17f7a93605e4278dd9156f7f3b82">N_VDestroy_Serial</a>(kinsolData-&gt;<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a02346f458bd31897dd955758c769921b">fTmp</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(kinsolData);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div><div class="ttc" id="3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h_html_a2d7c17f7a93605e4278dd9156f7f3b82"><div class="ttname"><a href="../../dc/d0a/3rd_party_2sundials_2build_2include_2nvector_2nvector__serial_8h.html#a2d7c17f7a93605e4278dd9156f7f3b82">N_VDestroy_Serial</a></div><div class="ttdeci">SUNDIALS_EXPORT void N_VDestroy_Serial(N_Vector v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d31/nvector__serial_8c_source.html#l00368">nvector_serial.c:368</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a529ae4dde06a84d37d0b92bef7ca212f"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a529ae4dde06a84d37d0b92bef7ca212f">NLS_KINSOL_DATA::kinsolMemory</a></div><div class="ttdeci">void * kinsolMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00125">kinsolSolver.c:125</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a02346f458bd31897dd955758c769921b"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a02346f458bd31897dd955758c769921b">NLS_KINSOL_DATA::fTmp</a></div><div class="ttdeci">N_Vector fTmp</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00119">kinsolSolver.c:119</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_acefe62f1ed83de445d0ff349883da309"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#acefe62f1ed83de445d0ff349883da309">NLS_KINSOL_DATA::fRes</a></div><div class="ttdeci">N_Vector fRes</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00118">kinsolSolver.c:118</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00099">kinsolSolver.c:99</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a5b3c5eb75465ba9fb8ba5cf18aa4971d"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a5b3c5eb75465ba9fb8ba5cf18aa4971d">NLS_KINSOL_DATA::initialGuess</a></div><div class="ttdeci">N_Vector initialGuess</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00115">kinsolSolver.c:115</a></div></div>
<div class="ttc" id="3rd_party_2flex-2_85_835_2parse_8c_html_af07d89f5ceaea0c7c8252cc41fd75f37"><div class="ttname"><a href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a></div><div class="ttdeci">void free(void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcd/malloc_8c_source.html#l00676">malloc.c:676</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a00a5eb510a0b73bc64581f9002fbd18c"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a00a5eb510a0b73bc64581f9002fbd18c">NLS_KINSOL_DATA::xScale</a></div><div class="ttdeci">N_Vector xScale</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00116">kinsolSolver.c:116</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_a2674aca2d67da1b16ce1a2b0aa5e6736"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a2674aca2d67da1b16ce1a2b0aa5e6736">KINFree</a></div><div class="ttdeci">SUNDIALS_EXPORT void KINFree(void **kinmem)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d42/kinsol_8c_source.html#l00746">kinsol.c:746</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html_a578c639e4c4d4cf117de6f60df307d32"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html#a578c639e4c4d4cf117de6f60df307d32">NLS_KINSOL_DATA::fScale</a></div><div class="ttdeci">N_Vector fScale</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00117">kinsolSolver.c:117</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8d/kinsol_solver_8h_a440d4686d585487acdd63d08bb4e28f6_cgraph.svg" width="295" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a452aea90e6416824f2994a0ffd52eaac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a452aea90e6416824f2994a0ffd52eaac">&#9670;&nbsp;</a></span>nlsKinsolSolve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> nlsKinsolSolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/ddb/struct_d_a_t_a.html">DATA</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d90/build_2include_2omc_2c_2gc_2omc__gc_8h.html#a2f007e1ae0f6eee14f4950f3ef19029a">threadData_t</a> *&#160;</td>
          <td class="paramname"><em>threadData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td>
          <td class="paramname"><em>sysNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d94/kinsol_solver_8c_source.html#l00958">958</a> of file <a class="el" href="../../d3/d94/kinsol_solver_8c_source.html">kinsolSolver.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;{</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <a class="code" href="../../d8/ddc/struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a.html">NONLINEAR_SYSTEM_DATA</a> *nlsData = &amp;(data-&gt;<a class="code" href="../../d6/ddb/struct_d_a_t_a.html#a8d72052e985e82d625d283f2e9d5987e">simulationInfo</a>-&gt;<a class="code" href="../../d2/d56/struct_s_i_m_u_l_a_t_i_o_n___i_n_f_o.html#a713825fba51ad43ddb01af25e16b2712">nonlinearSystemData</a>[sysNumber]);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a> *kinsolData = (<a class="code" href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a>*)nlsData-&gt;<a class="code" href="../../d8/ddc/struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a.html#a1a39987b24f4c023539152afc78068bf">solverData</a>;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordtype">long</span> eqSystemNumber = nlsData-&gt;<a class="code" href="../../d8/ddc/struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a.html#ab2a45aad95f63ef69c6c17131d694966">equationIndex</a>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordtype">int</span> indexes[2] = {1,eqSystemNumber};</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>, <a class="code" href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordtype">long</span> nFEval;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">success</a> = 0;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordtype">int</span> retry = 0;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordtype">double</span> *xStart = NV_DATA_S(kinsolData-&gt;initialGuess);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordtype">double</span> *xScaling = NV_DATA_S(kinsolData-&gt;xScale);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordtype">double</span> *fScaling = NV_DATA_S(kinsolData-&gt;fScale);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordtype">double</span> fNormValue;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="comment">/* set user data */</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  kinsolData-&gt;userData.data = <a class="code" href="../../d6/d75/_o_m_c_8h.html#aebda4d6599b03a5e7ed3bee65770c1bc">data</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  kinsolData-&gt;userData.<a class="code" href="../../d7/d8c/struct_o_m_c_data.html#a0cf17898889c53049e5ae33edb5b9093">threadData</a> = threadData;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  kinsolData-&gt;userData.sysNumber = sysNumber;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">/* reset configuration settings */</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  nlsKinsolConfigSetup(kinsolData);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a6b02b097e2305e0054ec83b3e57fa499">infoStreamPrintWithEquationIndexes</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a>, 1, indexes, <span class="stringliteral">&quot;Start Kinsol solver at time %g&quot;</span>, data-&gt;<a class="code" href="../../d6/ddb/struct_d_a_t_a.html#af566fdae87ad13e756ca1d0eabc55d4e">localData</a>[0]-&gt;<a class="code" href="../../d3/d9e/struct_s_i_m_u_l_a_t_i_o_n___d_a_t_a.html#ac1b53eb3b47921168fbb0375274b16b5">timeValue</a>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  nlsKinsolResetInitial(data, kinsolData, nlsData, INITIAL_EXTRAPOLATION);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">/* set x scaling */</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  nlsKinsolXScaling(data, kinsolData, nlsData, SCALING_NOMINALSTART);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">/* set f scaling */</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  nlsKinsolFScaling(data, kinsolData, nlsData, SCALING_JACOBIAN);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="comment">/* set maximum step size */</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  nlsKinsolSetMaxNewtonStep(kinsolData, kinsolData-&gt;maxstepfactor);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">/*  */</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordflow">do</span>{</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="comment">/* dump configuration */</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    nlsKinsolConfigPrint(kinsolData, nlsData);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a3ce3b8c02b2fba2ca3197cad4df6d667">KINSol</a>(kinsolData-&gt;kinsolMemory,           <span class="comment">/* KINSol memory block */</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                  kinsolData-&gt;initialGuess,           <span class="comment">/* initial guess on input; solution vector */</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                  kinsolData-&gt;kinsolStrategy,         <span class="comment">/* global strategy choice */</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                  kinsolData-&gt;xScale,                 <span class="comment">/* scaling vector, for the variable cc */</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                  kinsolData-&gt;fScale);                <span class="comment">/* scaling vector for function values fval */</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a56e3b3c9047de692709f2ffafb5bbdaf">infoStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a>, 0, <span class="stringliteral">&quot;KINSol finished with errorCode %d.&quot;</span>, <a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">/* check for errors */</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> &lt; 0)</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      retry = nlsKinsolErrorHandler(<a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>, data, nlsData, kinsolData);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="comment">/* solution found */</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> == KIN_SUCCESS) || (<a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> == KIN_INITIAL_GUESS_OK) || (<a class="code" href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> ==  KIN_STEP_LT_STPTOL))</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <a class="code" href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">success</a> = 1;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    }</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    kinsolData-&gt;retries++;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="comment">/* write statistics */</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a5ef7474bad1e9a142a1d57ca69c628c4">KINGetNumNonlinSolvIters</a>(kinsolData-&gt;kinsolMemory, &amp;nFEval);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    nlsData-&gt;numberOfIterations += nFEval;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    nlsData-&gt;numberOfFEval += kinsolData-&gt;countResCalls;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a56e3b3c9047de692709f2ffafb5bbdaf">infoStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a>, 0, <span class="stringliteral">&quot;Next try? success = %d, retry = %d, retries = %d = %s\n&quot;</span>, <a class="code" href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">success</a>, retry, kinsolData-&gt;retries,!<a class="code" href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">success</a> &amp;&amp; !(retry&lt;1) &amp;&amp; kinsolData-&gt;retries&lt;RETRY_MAX ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span> );</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  }<span class="keywordflow">while</span>(!<a class="code" href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">success</a> &amp;&amp; !(retry&lt;0) &amp;&amp; kinsolData-&gt;retries &lt; RETRY_MAX);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="comment">/* solution found */</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">success</a>)</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">/* check if solution really solves the residuals */</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    nlsKinsolResiduals(kinsolData-&gt;initialGuess, kinsolData-&gt;fRes, &amp;kinsolData-&gt;userData);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5d/build_2include_2omc_2c_2simulation_2options_8c.html#a44be2860f2cdd2e460cd0330ff8fec9d">omc_flag</a>[FLAG_NO_SCALING]){</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      <a class="code" href="../../df/dc8/3rd_party_2sundials_2build_2include_2sundials_2sundials__nvector_8h.html#ae406c0f84b2ab262144235bc2721da39">N_VProd</a>(kinsolData-&gt;fRes, kinsolData-&gt;fScale, kinsolData-&gt;fRes);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    fNormValue = <a class="code" href="../../df/dc8/3rd_party_2sundials_2build_2include_2sundials_2sundials__nvector_8h.html#a000c7c1d0f682a19892eba268d249ad5">N_VWL2Norm</a>(kinsolData-&gt;fRes, kinsolData-&gt;fRes);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a56e3b3c9047de692709f2ffafb5bbdaf">infoStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a>, 0, <span class="stringliteral">&quot;%sEuclidean norm of F(u) = %e&quot;</span>, (<a class="code" href="../../d3/d5d/build_2include_2omc_2c_2simulation_2options_8c.html#a44be2860f2cdd2e460cd0330ff8fec9d">omc_flag</a>[FLAG_NO_SCALING])?<span class="stringliteral">&quot;&quot;</span>:<span class="stringliteral">&quot;scaled &quot;</span>, fNormValue);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">if</span> (FTOL_WITH_LESS_ACCURANCY&lt;fNormValue)</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a8610c394d63be9accc63fd62248790b8">warningStreamPrint</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a>, 0, <span class="stringliteral">&quot;False positive solution. FNorm is not small enough.&quot;</span>);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <a class="code" href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">success</a> = 0;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">else</span> <span class="comment">/* solved system for reuse linear solver information */</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      kinsolData-&gt;solved = 1;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="comment">/* copy solution */</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="../../d6/d84/3rd_party_2open62541_2open62541_8h.html#a9bb523029391a4525c52a8e90e877692">memcpy</a>(nlsData-&gt;nlsx, xStart, nlsData-&gt;size*(<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)));</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a880b314da4ac3c194bf3214e3e8236ca">messageClose</a>(<a class="code" href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a>);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">success</a>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;}</div><div class="ttc" id="struct_o_m_c_data_html_a0cf17898889c53049e5ae33edb5b9093"><div class="ttname"><a href="../../d7/d8c/struct_o_m_c_data.html#a0cf17898889c53049e5ae33edb5b9093">OMCData::threadData</a></div><div class="ttdeci">threadData_t * threadData</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d87/_o_m_c_8cpp_source.html#l00014">OMC.cpp:14</a></div></div>
<div class="ttc" id="3rd_party_2dgesv_2include_2f2c_8h_html_abf5d144da384425ae6cb542ce6eec8d3"><div class="ttname"><a href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a></div><div class="ttdeci">short flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d68/3rd_party_2dgesv_2include_2f2c_8h_source.html#l00046">f2c.h:46</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8h_html_a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205"><div class="ttname"><a href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h.html#a5f082c3c00d347c0b34e597a99f8dc35ae9556c1a61e4d00c6b4510db05ab9205">LOG_NLS_V</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/build_2include_2omc_2c_2util_2omc__error_8h_source.html#l00101">omc_error.h:101</a></div></div>
<div class="ttc" id="namespacesnapshot-dir_html_a66327ac9750cb7d97ea82898b21f0f17"><div class="ttname"><a href="../../d6/d4b/namespacesnapshot-dir.html#a66327ac9750cb7d97ea82898b21f0f17">snapshot-dir.success</a></div><div class="ttdeci">success</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db0/snapshot-dir_8py_source.html#l00073">snapshot-dir.py:73</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2sundials_2sundials__nvector_8h_html_ae406c0f84b2ab262144235bc2721da39"><div class="ttname"><a href="../../df/dc8/3rd_party_2sundials_2build_2include_2sundials_2sundials__nvector_8h.html#ae406c0f84b2ab262144235bc2721da39">N_VProd</a></div><div class="ttdeci">SUNDIALS_EXPORT void N_VProd(N_Vector x, N_Vector y, N_Vector z)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d09/sundials__nvector_8c_source.html#l00084">sundials_nvector.c:84</a></div></div>
<div class="ttc" id="struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a_html_ab2a45aad95f63ef69c6c17131d694966"><div class="ttname"><a href="../../d8/ddc/struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a.html#ab2a45aad95f63ef69c6c17131d694966">NONLINEAR_SYSTEM_DATA::equationIndex</a></div><div class="ttdeci">modelica_integer equationIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d28/build_2include_2omc_2c_2simulation__data_8h_source.html#l00255">simulation_data.h:255</a></div></div>
<div class="ttc" id="3rd_party_2open62541_2open62541_8h_html_a9bb523029391a4525c52a8e90e877692"><div class="ttname"><a href="../../d6/d84/3rd_party_2open62541_2open62541_8h.html#a9bb523029391a4525c52a8e90e877692">memcpy</a></div><div class="ttdeci">void * memcpy(void *UA_RESTRICT dest, const void *UA_RESTRICT src, size_t n)</div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2sundials_2sundials__nvector_8h_html_a000c7c1d0f682a19892eba268d249ad5"><div class="ttname"><a href="../../df/dc8/3rd_party_2sundials_2build_2include_2sundials_2sundials__nvector_8h.html#a000c7c1d0f682a19892eba268d249ad5">N_VWL2Norm</a></div><div class="ttdeci">SUNDIALS_EXPORT realtype N_VWL2Norm(N_Vector x, N_Vector w)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d09/sundials__nvector_8c_source.html#l00145">sundials_nvector.c:145</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8c_html_a880b314da4ac3c194bf3214e3e8236ca"><div class="ttname"><a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a880b314da4ac3c194bf3214e3e8236ca">messageClose</a></div><div class="ttdeci">void(* messageClose)(int stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c_source.html#l00275">omc_error.c:275</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2simulation_2options_8c_html_a44be2860f2cdd2e460cd0330ff8fec9d"><div class="ttname"><a href="../../d3/d5d/build_2include_2omc_2c_2simulation_2options_8c.html#a44be2860f2cdd2e460cd0330ff8fec9d">omc_flag</a></div><div class="ttdeci">int omc_flag[FLAG_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5d/build_2include_2omc_2c_2simulation_2options_8c_source.html#l00043">options.c:43</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8c_html_a8610c394d63be9accc63fd62248790b8"><div class="ttname"><a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a8610c394d63be9accc63fd62248790b8">warningStreamPrint</a></div><div class="ttdeci">void warningStreamPrint(int stream, int indentNext, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c_source.html#l00326">omc_error.c:326</a></div></div>
<div class="ttc" id="struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a_html_a1a39987b24f4c023539152afc78068bf"><div class="ttname"><a href="../../d8/ddc/struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a.html#a1a39987b24f4c023539152afc78068bf">NONLINEAR_SYSTEM_DATA::solverData</a></div><div class="ttdeci">void * solverData</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d28/build_2include_2omc_2c_2simulation__data_8h_source.html#l00285">simulation_data.h:285</a></div></div>
<div class="ttc" id="struct_s_i_m_u_l_a_t_i_o_n___d_a_t_a_html_ac1b53eb3b47921168fbb0375274b16b5"><div class="ttname"><a href="../../d3/d9e/struct_s_i_m_u_l_a_t_i_o_n___d_a_t_a.html#ac1b53eb3b47921168fbb0375274b16b5">SIMULATION_DATA::timeValue</a></div><div class="ttdeci">modelica_real timeValue</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d28/build_2include_2omc_2c_2simulation__data_8h_source.html#l00687">simulation_data.h:687</a></div></div>
<div class="ttc" id="struct_n_l_s___k_i_n_s_o_l___d_a_t_a_html"><div class="ttname"><a href="../../dd/d96/struct_n_l_s___k_i_n_s_o_l___d_a_t_a.html">NLS_KINSOL_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d94/kinsol_solver_8c_source.html#l00099">kinsolSolver.c:99</a></div></div>
<div class="ttc" id="struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a_html"><div class="ttname"><a href="../../d8/ddc/struct_n_o_n_l_i_n_e_a_r___s_y_s_t_e_m___d_a_t_a.html">NONLINEAR_SYSTEM_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d28/build_2include_2omc_2c_2simulation__data_8h_source.html#l00252">simulation_data.h:252</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8c_html_a56e3b3c9047de692709f2ffafb5bbdaf"><div class="ttname"><a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a56e3b3c9047de692709f2ffafb5bbdaf">infoStreamPrint</a></div><div class="ttdeci">void infoStreamPrint(int stream, int indentNext, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c_source.html#l00302">omc_error.c:302</a></div></div>
<div class="ttc" id="3rd_party_2flex-2_85_835_2parse_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c_source.html#l00193">parse.c:193</a></div></div>
<div class="ttc" id="_o_m_c_8h_html_aebda4d6599b03a5e7ed3bee65770c1bc"><div class="ttname"><a href="../../d6/d75/_o_m_c_8h.html#aebda4d6599b03a5e7ed3bee65770c1bc">data</a></div><div class="ttdeci">typedefOMC_DLL struct OMCData data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d75/_o_m_c_8h_source.html#l00011">OMC.h:11</a></div></div>
<div class="ttc" id="struct_d_a_t_a_html_af566fdae87ad13e756ca1d0eabc55d4e"><div class="ttname"><a href="../../d6/ddb/struct_d_a_t_a.html#af566fdae87ad13e756ca1d0eabc55d4e">DATA::localData</a></div><div class="ttdeci">SIMULATION_DATA ** localData</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d28/build_2include_2omc_2c_2simulation__data_8h_source.html#l00712">simulation_data.h:712</a></div></div>
<div class="ttc" id="struct_d_a_t_a_html_a8d72052e985e82d625d283f2e9d5987e"><div class="ttname"><a href="../../d6/ddb/struct_d_a_t_a.html#a8d72052e985e82d625d283f2e9d5987e">DATA::simulationInfo</a></div><div class="ttdeci">SIMULATION_INFO * simulationInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d28/build_2include_2omc_2c_2simulation__data_8h_source.html#l00714">simulation_data.h:714</a></div></div>
<div class="ttc" id="struct_s_i_m_u_l_a_t_i_o_n___i_n_f_o_html_a713825fba51ad43ddb01af25e16b2712"><div class="ttname"><a href="../../d2/d56/struct_s_i_m_u_l_a_t_i_o_n___i_n_f_o.html#a713825fba51ad43ddb01af25e16b2712">SIMULATION_INFO::nonlinearSystemData</a></div><div class="ttdeci">NONLINEAR_SYSTEM_DATA * nonlinearSystemData</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d28/build_2include_2omc_2c_2simulation__data_8h_source.html#l00661">simulation_data.h:661</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_a5ef7474bad1e9a142a1d57ca69c628c4"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a5ef7474bad1e9a142a1d57ca69c628c4">KINGetNumNonlinSolvIters</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINGetNumNonlinSolvIters(void *kinmem, long int *nniters)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df4/kinsol__io_8c_source.html#l00874">kinsol_io.c:874</a></div></div>
<div class="ttc" id="build_2include_2omc_2c_2util_2omc__error_8c_html_a6b02b097e2305e0054ec83b3e57fa499"><div class="ttname"><a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c.html#a6b02b097e2305e0054ec83b3e57fa499">infoStreamPrintWithEquationIndexes</a></div><div class="ttdeci">void infoStreamPrintWithEquationIndexes(int stream, int indentNext, const int *indexes, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0e/build_2include_2omc_2c_2util_2omc__error_8c_source.html#l00290">omc_error.c:290</a></div></div>
<div class="ttc" id="3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h_html_a3ce3b8c02b2fba2ca3197cad4df6d667"><div class="ttname"><a href="../../db/def/3rd_party_2sundials_2build_2include_2kinsol_2kinsol_8h.html#a3ce3b8c02b2fba2ca3197cad4df6d667">KINSol</a></div><div class="ttdeci">SUNDIALS_EXPORT int KINSol(void *kinmem, N_Vector uu, int strategy, N_Vector u_scale, N_Vector f_scale)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d42/kinsol_8c_source.html#l00494">kinsol.c:494</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8d/kinsol_solver_8h_a452aea90e6416824f2994a0ffd52eaac_icgraph.svg" width="456" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
