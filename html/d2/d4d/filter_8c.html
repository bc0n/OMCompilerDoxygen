<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OMCompilerDoxygen: 3rdParty/flex-2.5.35/filter.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OMCompilerDoxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_ac1e9fede566aac571d9ed097263eea9.html">3rdParty</a></li><li class="navelem"><a class="el" href="../../dir_5d3b354c044c4fce46f4b0455164b380.html">flex-2.5.35</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">filter.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../d2/d4d/filter_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a32ca0cdc94c3865635c86ad0513f0ed8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4d/filter_8c.html#a32ca0cdc94c3865635c86ad0513f0ed8">filter_create_ext</a> (struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *chain, const <a class="el" href="../../da/d6c/group__jm__vector.html#ga993a5281aa2e523bc5a903593d3d167a">char</a> *cmd,...)</td></tr>
<tr class="separator:a32ca0cdc94c3865635c86ad0513f0ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af212944d900dab47f6ef791e7c42deb0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4d/filter_8c.html#af212944d900dab47f6ef791e7c42deb0">filter_create_int</a> (struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *chain, <a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>(*filter_func)(struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *), <a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#ac7828c7b2b31d2e11af17bdb6289c5d9">void</a> *extra)</td></tr>
<tr class="separator:af212944d900dab47f6ef791e7c42deb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921d3b9e9cd22ff860cc1416197ccbfc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d8d/gkregex_8c.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4d/filter_8c.html#a921d3b9e9cd22ff860cc1416197ccbfc">filter_apply_chain</a> (struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *chain)</td></tr>
<tr class="separator:a921d3b9e9cd22ff860cc1416197ccbfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65868ce878134a2396c52cd962c78c2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4d/filter_8c.html#a65868ce878134a2396c52cd962c78c2a">filter_truncate</a> (struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *chain, <a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> max_len)</td></tr>
<tr class="separator:a65868ce878134a2396c52cd962c78c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e9aee5065c675146930f64fc2f9ed7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4d/filter_8c.html#ad7e9aee5065c675146930f64fc2f9ed7">filter_tee_header</a> (struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *chain)</td></tr>
<tr class="separator:ad7e9aee5065c675146930f64fc2f9ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455fb256f99c8a63210ff530408780ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4d/filter_8c.html#a455fb256f99c8a63210ff530408780ef">filter_fix_linedirs</a> (struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *chain)</td></tr>
<tr class="separator:a455fb256f99c8a63210ff530408780ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0e070c427db9afd455daa6afb896dfe2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4d/filter_8c.html#a0e070c427db9afd455daa6afb896dfe2">output_chain</a> = NULL</td></tr>
<tr class="separator:a0e070c427db9afd455daa6afb896dfe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a921d3b9e9cd22ff860cc1416197ccbfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921d3b9e9cd22ff860cc1416197ccbfc">&#9670;&nbsp;</a></span>filter_apply_chain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d8d/gkregex_8c.html#af6a258d8f3ee5206d682d799316314b1">bool</a> filter_apply_chain </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td>
          <td class="paramname"><em>chain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fork and exec entire filter chain. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chain</td><td>The head of the chain. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d4d/filter_8c_source.html#l00129">129</a> of file <a class="el" href="../../d2/d4d/filter_8c_source.html">filter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">int</span>     pid, pipes[2];</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">/* Tricky recursion, since we want to begin the chain</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">     * at the END. Why? Because we need all the forked processes</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">     * to be children of the main flex process.</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (chain)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="../../d2/d4d/filter_8c.html#a921d3b9e9cd22ff860cc1416197ccbfc">filter_apply_chain</a> (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">/* Now we are the right-most unprocessed link in the chain.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    fflush (stdout);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    fflush (stderr);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (pipe (pipes) == -1)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a5304015d59c404291271ac56c9b962f6">flexerror</a> (_(<span class="stringliteral">&quot;pipe failed&quot;</span>));</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> ((pid = fork ()) == -1)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a5304015d59c404291271ac56c9b962f6">flexerror</a> (_(<span class="stringliteral">&quot;fork failed&quot;</span>));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (pid == 0) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="comment">/* child */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="comment">/* We need stdin (the FILE* stdin) to connect to this new pipe.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">         * There is no portable way to set stdin to a new file descriptor,</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">         * as stdin is not an lvalue on some systems (BSD).</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">         * So we dup the new pipe onto the stdin descriptor and use a no-op fseek</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">         * to sync the stream. This is a Hail Mary situation. It seems to work.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="../../d8/d56/test__system_8cpp.html#aafbcde67669a1b96577e735ddebd8634">close</a> (pipes[1]);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span> (dup2 (pipes[0], fileno (stdin)) == -1)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a864cc32c0dda06dcffa37210e5e3ff8f">flexfatal</a> (_(<span class="stringliteral">&quot;dup2(pipes[0],0)&quot;</span>));</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="../../d8/d56/test__system_8cpp.html#aafbcde67669a1b96577e735ddebd8634">close</a> (pipes[0]);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        fseek (stdin, 0, SEEK_CUR);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="comment">/* run as a filter, either internally or by exec */</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a0c07ff225739a26a9d78554f14bfdc7c">filter_func</a>) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordtype">int</span>     r;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">if</span> ((r = chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a0c07ff225739a26a9d78554f14bfdc7c">filter_func</a> (chain)) == -1)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a864cc32c0dda06dcffa37210e5e3ff8f">flexfatal</a> (_(<span class="stringliteral">&quot;filter_func failed&quot;</span>));</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            exit (0);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            execvp (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a>[0],</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                (<span class="keywordtype">char</span> **<span class="keyword">const</span>) (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a>));</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a864cc32c0dda06dcffa37210e5e3ff8f">flexfatal</a> (_(<span class="stringliteral">&quot;exec failed&quot;</span>));</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        exit (1);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">/* Parent */</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="../../d8/d56/test__system_8cpp.html#aafbcde67669a1b96577e735ddebd8634">close</a> (pipes[0]);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (dup2 (pipes[1], fileno (stdout)) == -1)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a864cc32c0dda06dcffa37210e5e3ff8f">flexfatal</a> (_(<span class="stringliteral">&quot;dup2(pipes[1],1)&quot;</span>));</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="../../d8/d56/test__system_8cpp.html#aafbcde67669a1b96577e735ddebd8634">close</a> (pipes[1]);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    fseek (stdout, 0, SEEK_CUR);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="ttc" id="flex-2_85_835_2misc_8c_html_a5304015d59c404291271ac56c9b962f6"><div class="ttname"><a href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a5304015d59c404291271ac56c9b962f6">flexerror</a></div><div class="ttdeci">void flexerror(char *msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3e/flex-2_85_835_2misc_8c_source.html#l00409">misc.c:409</a></div></div>
<div class="ttc" id="flex-2_85_835_2misc_8c_html_a864cc32c0dda06dcffa37210e5e3ff8f"><div class="ttname"><a href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a864cc32c0dda06dcffa37210e5e3ff8f">flexfatal</a></div><div class="ttdeci">void flexfatal(char *msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3e/flex-2_85_835_2misc_8c_source.html#l00419">misc.c:419</a></div></div>
<div class="ttc" id="filter_8c_html_a921d3b9e9cd22ff860cc1416197ccbfc"><div class="ttname"><a href="../../d2/d4d/filter_8c.html#a921d3b9e9cd22ff860cc1416197ccbfc">filter_apply_chain</a></div><div class="ttdeci">bool filter_apply_chain(struct filter *chain)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/filter_8c_source.html#l00129">filter.c:129</a></div></div>
<div class="ttc" id="test__system_8cpp_html_aafbcde67669a1b96577e735ddebd8634"><div class="ttname"><a href="../../d8/d56/test__system_8cpp.html#aafbcde67669a1b96577e735ddebd8634">close</a></div><div class="ttdeci">int close(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/test__system_8cpp_source.html#l00050">test_system.cpp:50</a></div></div>
<div class="ttc" id="structfilter_html_a0c07ff225739a26a9d78554f14bfdc7c"><div class="ttname"><a href="../../d2/d9e/structfilter.html#a0c07ff225739a26a9d78554f14bfdc7c">filter::filter_func</a></div><div class="ttdeci">int(* filter_func)(struct filter *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01172">flexdef.h:1172</a></div></div>
<div class="ttc" id="structfilter_html_a6b598f761947f18559c9dc5bad1bbbf8"><div class="ttname"><a href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">filter::next</a></div><div class="ttdeci">struct filter * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01176">flexdef.h:1176</a></div></div>
<div class="ttc" id="structfilter_html_ad66c880eff041f9698db116ff49ac2c9"><div class="ttname"><a href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">filter::argv</a></div><div class="ttdeci">const char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01175">flexdef.h:1175</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d4d/filter_8c_a921d3b9e9cd22ff860cc1416197ccbfc_cgraph.svg" width="490" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a32ca0cdc94c3865635c86ad0513f0ed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ca0cdc94c3865635c86ad0513f0ed8">&#9670;&nbsp;</a></span>filter_create_ext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a>* filter_create_ext </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td>
          <td class="paramname"><em>chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d6c/group__jm__vector.html#ga993a5281aa2e523bc5a903593d3d167a">char</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d4d/filter_8c_source.html#l00041">41</a> of file <a class="el" href="../../d2/d4d/filter_8c_source.html">filter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d2/d9e/structfilter.html">filter</a> *<a class="code" href="../../d2/ddd/fmangle_8f.html#a441ecdb45fc9d1055e63c1b73d9c873b">f</a>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">int</span>     max_args;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    va_list ap;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">/* allocate and initialize new filter */</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    f = (<span class="keyword">struct </span><a class="code" href="../../d2/d9e/structfilter.html">filter</a> *) <a class="code" href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a> (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="../../d2/d9e/structfilter.html">filter</a>));</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../d6/d84/3rd_party_2open62541_2open62541_8h.html#a362b656d9de3289b55b1035d14cb4b5d">memset</a> (f, 0, <span class="keyword">sizeof</span> (*f));</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a0c07ff225739a26a9d78554f14bfdc7c">filter_func</a> = NULL;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">extra</a> = NULL;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a> = NULL;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad246eb0cbbc907f91303d5f56c0c8524">argc</a> = 0;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (chain != NULL) {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="comment">/* append f to end of chain */</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">while</span> (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a>)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            chain = chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a> = f;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">/* allocate argv, and populate it with the argument list. */</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    max_args = 8;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a> =</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        (<span class="keyword">const</span> <span class="keywordtype">char</span> **) <a class="code" href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a> (<span class="keyword">sizeof</span> (<span class="keywordtype">char</span> *) *</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                        (max_args + 1));</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a>[f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad246eb0cbbc907f91303d5f56c0c8524">argc</a>++] = cmd;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    va_start (ap, cmd);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">while</span> ((s = va_arg (ap, <span class="keyword">const</span> <span class="keywordtype">char</span> *)) != NULL) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad246eb0cbbc907f91303d5f56c0c8524">argc</a> &gt;= max_args) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            max_args += 8;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a> =</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                (<span class="keyword">const</span> <span class="keywordtype">char</span> **) <a class="code" href="../../d0/d3e/scan_8c.html#a00ee9350e470a64707aae9743215ca1d">flex_realloc</a> (f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a>,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                  sizeof (<span class="keywordtype">char</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                      *) *</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                  (max_args +</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                   1));</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a>[f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad246eb0cbbc907f91303d5f56c0c8524">argc</a>++] = <a class="code" href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a>[f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad246eb0cbbc907f91303d5f56c0c8524">argc</a>] = NULL;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    va_end (ap);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">return</span> f;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="ttc" id="scan_8c_html_a19b88e2ffff444ebffd0fb2bd4b68046"><div class="ttname"><a href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a></div><div class="ttdeci">void * flex_alloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3e/scan_8c_source.html#l05182">scan.c:5182</a></div></div>
<div class="ttc" id="structfilter_html_a0c07ff225739a26a9d78554f14bfdc7c"><div class="ttname"><a href="../../d2/d9e/structfilter.html#a0c07ff225739a26a9d78554f14bfdc7c">filter::filter_func</a></div><div class="ttdeci">int(* filter_func)(struct filter *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01172">flexdef.h:1172</a></div></div>
<div class="ttc" id="structfilter_html_a6b598f761947f18559c9dc5bad1bbbf8"><div class="ttname"><a href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">filter::next</a></div><div class="ttdeci">struct filter * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01176">flexdef.h:1176</a></div></div>
<div class="ttc" id="3rd_party_2open62541_2open62541_8h_html_a362b656d9de3289b55b1035d14cb4b5d"><div class="ttname"><a href="../../d6/d84/3rd_party_2open62541_2open62541_8h.html#a362b656d9de3289b55b1035d14cb4b5d">memset</a></div><div class="ttdeci">void * memset(void *dest, int c, size_t n)</div></div>
<div class="ttc" id="scan_8c_html_a00ee9350e470a64707aae9743215ca1d"><div class="ttname"><a href="../../d0/d3e/scan_8c.html#a00ee9350e470a64707aae9743215ca1d">flex_realloc</a></div><div class="ttdeci">void * flex_realloc(void *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3e/scan_8c_source.html#l05188">scan.c:5188</a></div></div>
<div class="ttc" id="structfilter_html"><div class="ttname"><a href="../../d2/d9e/structfilter.html">filter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01171">flexdef.h:1171</a></div></div>
<div class="ttc" id="structfilter_html_ac6e9498e274fc0414fe79f13b9a10d84"><div class="ttname"><a href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">filter::extra</a></div><div class="ttdeci">void * extra</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01173">flexdef.h:1173</a></div></div>
<div class="ttc" id="structfilter_html_ad66c880eff041f9698db116ff49ac2c9"><div class="ttname"><a href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">filter::argv</a></div><div class="ttdeci">const char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01175">flexdef.h:1175</a></div></div>
<div class="ttc" id="structfilter_html_ad246eb0cbbc907f91303d5f56c0c8524"><div class="ttname"><a href="../../d2/d9e/structfilter.html#ad246eb0cbbc907f91303d5f56c0c8524">filter::argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01174">flexdef.h:1174</a></div></div>
<div class="ttc" id="build_2_expat_ex_2install_2include_2expat_8h_html_ab87f55bd0280d90925050a4188c14ab5"><div class="ttname"><a href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a></div><div class="ttdeci">const char * s</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h_source.html#l00778">expat.h:778</a></div></div>
<div class="ttc" id="fmangle_8f_html_a441ecdb45fc9d1055e63c1b73d9c873b"><div class="ttname"><a href="../../d2/ddd/fmangle_8f.html#a441ecdb45fc9d1055e63c1b73d9c873b">f</a></div><div class="ttdeci">subroutine f()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddd/fmangle_8f_source.html#l00002">fmangle.f:2</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af212944d900dab47f6ef791e7c42deb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af212944d900dab47f6ef791e7c42deb0">&#9670;&nbsp;</a></span>filter_create_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a>* filter_create_int </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td>
          <td class="paramname"><em>chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>(*)(struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *)&#160;</td>
          <td class="paramname"><em>filter_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#ac7828c7b2b31d2e11af17bdb6289c5d9">void</a> *&#160;</td>
          <td class="paramname"><em>extra</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d4d/filter_8c_source.html#l00099">99</a> of file <a class="el" href="../../d2/d4d/filter_8c_source.html">filter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d2/d9e/structfilter.html">filter</a> *<a class="code" href="../../d2/ddd/fmangle_8f.html#a441ecdb45fc9d1055e63c1b73d9c873b">f</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">/* allocate and initialize new filter */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    f = (<span class="keyword">struct </span><a class="code" href="../../d2/d9e/structfilter.html">filter</a> *) <a class="code" href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a> (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="../../d2/d9e/structfilter.html">filter</a>));</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="../../d6/d84/3rd_party_2open62541_2open62541_8h.html#a362b656d9de3289b55b1035d14cb4b5d">memset</a> (f, 0, <span class="keyword">sizeof</span> (*f));</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a> = NULL;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad246eb0cbbc907f91303d5f56c0c8524">argc</a> = 0;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">argv</a> = NULL;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a0c07ff225739a26a9d78554f14bfdc7c">filter_func</a> = <a class="code" href="../../d2/d9e/structfilter.html#a0c07ff225739a26a9d78554f14bfdc7c">filter_func</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    f-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">extra</a> = <a class="code" href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">extra</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (chain != NULL) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">/* append f to end of chain */</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">while</span> (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a>)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            chain = chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a> = f;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> f;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="ttc" id="scan_8c_html_a19b88e2ffff444ebffd0fb2bd4b68046"><div class="ttname"><a href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a></div><div class="ttdeci">void * flex_alloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3e/scan_8c_source.html#l05182">scan.c:5182</a></div></div>
<div class="ttc" id="structfilter_html_a0c07ff225739a26a9d78554f14bfdc7c"><div class="ttname"><a href="../../d2/d9e/structfilter.html#a0c07ff225739a26a9d78554f14bfdc7c">filter::filter_func</a></div><div class="ttdeci">int(* filter_func)(struct filter *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01172">flexdef.h:1172</a></div></div>
<div class="ttc" id="structfilter_html_a6b598f761947f18559c9dc5bad1bbbf8"><div class="ttname"><a href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">filter::next</a></div><div class="ttdeci">struct filter * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01176">flexdef.h:1176</a></div></div>
<div class="ttc" id="3rd_party_2open62541_2open62541_8h_html_a362b656d9de3289b55b1035d14cb4b5d"><div class="ttname"><a href="../../d6/d84/3rd_party_2open62541_2open62541_8h.html#a362b656d9de3289b55b1035d14cb4b5d">memset</a></div><div class="ttdeci">void * memset(void *dest, int c, size_t n)</div></div>
<div class="ttc" id="structfilter_html"><div class="ttname"><a href="../../d2/d9e/structfilter.html">filter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01171">flexdef.h:1171</a></div></div>
<div class="ttc" id="structfilter_html_ac6e9498e274fc0414fe79f13b9a10d84"><div class="ttname"><a href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">filter::extra</a></div><div class="ttdeci">void * extra</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01173">flexdef.h:1173</a></div></div>
<div class="ttc" id="structfilter_html_ad66c880eff041f9698db116ff49ac2c9"><div class="ttname"><a href="../../d2/d9e/structfilter.html#ad66c880eff041f9698db116ff49ac2c9">filter::argv</a></div><div class="ttdeci">const char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01175">flexdef.h:1175</a></div></div>
<div class="ttc" id="structfilter_html_ad246eb0cbbc907f91303d5f56c0c8524"><div class="ttname"><a href="../../d2/d9e/structfilter.html#ad246eb0cbbc907f91303d5f56c0c8524">filter::argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01174">flexdef.h:1174</a></div></div>
<div class="ttc" id="fmangle_8f_html_a441ecdb45fc9d1055e63c1b73d9c873b"><div class="ttname"><a href="../../d2/ddd/fmangle_8f.html#a441ecdb45fc9d1055e63c1b73d9c873b">f</a></div><div class="ttdeci">subroutine f()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddd/fmangle_8f_source.html#l00002">fmangle.f:2</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a455fb256f99c8a63210ff530408780ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455fb256f99c8a63210ff530408780ef">&#9670;&nbsp;</a></span>filter_fix_linedirs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> filter_fix_linedirs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td>
          <td class="paramname"><em>chain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adjust the line numbers in the <a class="el" href="../../d2/d4e/de__win_8h.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a> directives of the generated scanner. After the m4 expansion, the line numbers are incorrect since the m4 macros can add or remove lines. This only adjusts line numbers for generated code, not user code. This also happens to be a good place to squeeze multiple blank lines into a single blank line. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d4d/filter_8c_source.html#l00329">329</a> of file <a class="el" href="../../d2/d4d/filter_8c_source.html">filter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">char</span>   *<a class="code" href="../../d2/db7/ioapi_8h.html#ae28c9430ba2b97dabdc5ca98ff772987">buf</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> readsz = 512;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordtype">int</span>     lineno = 1;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">bool</span>    in_gen = <span class="keyword">true</span>;  <span class="comment">/* in generated code */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">bool</span>    last_was_blank = <span class="keyword">false</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (!chain)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    buf = (<span class="keywordtype">char</span> *) <a class="code" href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a> (readsz);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">while</span> (fgets (buf, readsz, stdin)) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="../../d3/d3a/structregmatch__t.html">regmatch_t</a> <a class="code" href="../../d8/d58/include_2coin_2_ip_std_c_interface_8h.html#ae5f6806ad241f69d103ef6c3ba4e2afc">m</a>[10];</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="comment">/* Check for #line directive. */</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">if</span> (buf[0] == <span class="charliteral">&#39;#&#39;</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            &amp;&amp; <a class="code" href="../../d8/d8d/gkregex_8c.html#a7937edf3fae8c7c9d49b20510fe8da13">regexec</a> (&amp;<a class="code" href="../../dd/ded/flexdef_8h.html#a50f9f18a8da896ac97100e8302df62d0">regex_linedir</a>, buf, 3, m, 0) == 0) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordtype">int</span>     <a class="code" href="../../db/da1/enough_8c.html#a1fd0a5ffc280a84b0764e8ec908f814a">num</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordtype">char</span>   *fname;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="comment">/* extract the line number and filename */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            num = <a class="code" href="../../dd/ded/flexdef_8h.html#afd68f150b78ebf8ed045e7aa7317d830">regmatch_strtol</a> (&amp;m[1], buf, NULL, 0);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            fname = <a class="code" href="../../dd/ded/flexdef_8h.html#a410562391b8aaf2377befe41fcd4c9d1">regmatch_dup</a> (&amp;m[2], buf);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">if</span> (strcmp (fname,</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <a class="code" href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a> ? <a class="code" href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a> : <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span>)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                    == 0</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;             || strcmp (fname,</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <a class="code" href="../../dd/ded/flexdef_8h.html#ab186b53d8f09834604ad7fe3ea3ee2dd">headerfilename</a> ? <a class="code" href="../../dd/ded/flexdef_8h.html#ab186b53d8f09834604ad7fe3ea3ee2dd">headerfilename</a> : <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span>)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    == 0) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordtype">char</span>    *s1, *s2;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="keywordtype">char</span>    <a class="code" href="../../d2/db7/ioapi_8h.html#ad16841aa5ad9fd055423c0b6f31df60e">filename</a>[MAXLINE];</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                s1 = fname;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                s2 = <a class="code" href="../../d2/db7/ioapi_8h.html#ad16841aa5ad9fd055423c0b6f31df60e">filename</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">while</span> ((s2 - filename) &lt; (MAXLINE - 1) &amp;&amp; *s1) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <span class="comment">/* Escape the backslash */</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    <span class="keywordflow">if</span> (*s1 == <span class="charliteral">&#39;\\&#39;</span>)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        *s2++ = <span class="charliteral">&#39;\\&#39;</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    <span class="comment">/* Escape the double quote */</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    <span class="keywordflow">if</span> (*s1 == <span class="charliteral">&#39;\&quot;&#39;</span>)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        *s2++ = <span class="charliteral">&#39;\\&#39;</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    <span class="comment">/* Copy the character as usual */</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                    *s2++ = *s1++;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                *s2 = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="comment">/* Adjust the line directives. */</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                in_gen = <span class="keyword">true</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                snprintf (buf, readsz, <span class="stringliteral">&quot;#line %d \&quot;%s\&quot;\n&quot;</span>,</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                      lineno + 1, filename);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="comment">/* it&#39;s a #line directive for code we didn&#39;t write */</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                in_gen = <span class="keyword">false</span>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <a class="code" href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a> (fname);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            last_was_blank = <span class="keyword">false</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="comment">/* squeeze blank lines from generated code */</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (in_gen</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;             &amp;&amp; <a class="code" href="../../d8/d8d/gkregex_8c.html#a7937edf3fae8c7c9d49b20510fe8da13">regexec</a> (&amp;<a class="code" href="../../dd/ded/flexdef_8h.html#a81d270293d8c9593427d903e0d8bc2a4">regex_blank_line</a>, buf, 0, NULL,</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                     0) == 0) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> (last_was_blank)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                last_was_blank = <span class="keyword">true</span>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="comment">/* it&#39;s a line of normal, non-empty code. */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            last_was_blank = <span class="keyword">false</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        fputs (buf, stdout);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        lineno++;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    fflush (stdout);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">if</span> (ferror (stdout))</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a692bd70226b10874a4e5a45eed4f0ec3">lerrsf</a> (_(<span class="stringliteral">&quot;error writing output file %s&quot;</span>),</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            outfilename ? outfilename : <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fclose (stdout))</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a692bd70226b10874a4e5a45eed4f0ec3">lerrsf</a> (_(<span class="stringliteral">&quot;error closing output file %s&quot;</span>),</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            outfilename ? outfilename : <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div><div class="ttc" id="flexdef_8h_html_ab186b53d8f09834604ad7fe3ea3ee2dd"><div class="ttname"><a href="../../dd/ded/flexdef_8h.html#ab186b53d8f09834604ad7fe3ea3ee2dd">headerfilename</a></div><div class="ttdeci">char * headerfilename</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/3rd_party_2flex-2_85_835_2main_8c_source.html#l00066">main.c:66</a></div></div>
<div class="ttc" id="scan_8c_html_a19b88e2ffff444ebffd0fb2bd4b68046"><div class="ttname"><a href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a></div><div class="ttdeci">void * flex_alloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3e/scan_8c_source.html#l05182">scan.c:5182</a></div></div>
<div class="ttc" id="include_2coin_2_ip_std_c_interface_8h_html_ae5f6806ad241f69d103ef6c3ba4e2afc"><div class="ttname"><a href="../../d8/d58/include_2coin_2_ip_std_c_interface_8h.html#ae5f6806ad241f69d103ef6c3ba4e2afc">m</a></div><div class="ttdeci">Number Number Index m</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d58/include_2coin_2_ip_std_c_interface_8h_source.html#l00137">IpStdCInterface.h:137</a></div></div>
<div class="ttc" id="flexdef_8h_html_ad9c99086eb4798bbb0ebd700e6a1da60"><div class="ttname"><a href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a></div><div class="ttdeci">char * outfilename</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/3rd_party_2flex-2_85_835_2main_8c_source.html#l00066">main.c:66</a></div></div>
<div class="ttc" id="enough_8c_html_a1fd0a5ffc280a84b0764e8ec908f814a"><div class="ttname"><a href="../../db/da1/enough_8c.html#a1fd0a5ffc280a84b0764e8ec908f814a">num</a></div><div class="ttdeci">local big_t * num</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/enough_8c_source.html#l00172">enough.c:172</a></div></div>
<div class="ttc" id="flexdef_8h_html_a50f9f18a8da896ac97100e8302df62d0"><div class="ttname"><a href="../../dd/ded/flexdef_8h.html#a50f9f18a8da896ac97100e8302df62d0">regex_linedir</a></div><div class="ttdeci">regex_t regex_linedir</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d03/flex-2_85_835_2regex_8c_source.html#l00030">regex.c:30</a></div></div>
<div class="ttc" id="structregmatch__t_html"><div class="ttname"><a href="../../d3/d3a/structregmatch__t.html">regmatch_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d08/gkregex_8h_source.html#l00434">gkregex.h:434</a></div></div>
<div class="ttc" id="flex-2_85_835_2misc_8c_html_a692bd70226b10874a4e5a45eed4f0ec3"><div class="ttname"><a href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a692bd70226b10874a4e5a45eed4f0ec3">lerrsf</a></div><div class="ttdeci">void lerrsf(char *msg, arg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3e/flex-2_85_835_2misc_8c_source.html#l00456">misc.c:456</a></div></div>
<div class="ttc" id="flexdef_8h_html_afd68f150b78ebf8ed045e7aa7317d830"><div class="ttname"><a href="../../dd/ded/flexdef_8h.html#afd68f150b78ebf8ed045e7aa7317d830">regmatch_strtol</a></div><div class="ttdeci">int regmatch_strtol(regmatch_t *m, const char *src, char **endptr, int base)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d03/flex-2_85_835_2regex_8c_source.html#l00129">regex.c:129</a></div></div>
<div class="ttc" id="3rd_party_2flex-2_85_835_2parse_8c_html_af07d89f5ceaea0c7c8252cc41fd75f37"><div class="ttname"><a href="../../dc/ddc/3rd_party_2flex-2_85_835_2parse_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a></div><div class="ttdeci">void free(void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcd/malloc_8c_source.html#l00676">malloc.c:676</a></div></div>
<div class="ttc" id="ioapi_8h_html_ad16841aa5ad9fd055423c0b6f31df60e"><div class="ttname"><a href="../../d2/db7/ioapi_8h.html#ad16841aa5ad9fd055423c0b6f31df60e">filename</a></div><div class="ttdeci">const char * filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ioapi_8h_source.html#l00135">ioapi.h:135</a></div></div>
<div class="ttc" id="ioapi_8h_html_ae28c9430ba2b97dabdc5ca98ff772987"><div class="ttname"><a href="../../d2/db7/ioapi_8h.html#ae28c9430ba2b97dabdc5ca98ff772987">buf</a></div><div class="ttdeci">voidpf void * buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ioapi_8h_source.html#l00136">ioapi.h:136</a></div></div>
<div class="ttc" id="gkregex_8c_html_a7937edf3fae8c7c9d49b20510fe8da13"><div class="ttname"><a href="../../d8/d8d/gkregex_8c.html#a7937edf3fae8c7c9d49b20510fe8da13">regexec</a></div><div class="ttdeci">int regexec(regex_t *__restrict preg, const char *__restrict string, size_t nmatch, pmatch, int eflags) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/gkregex_8c_source.html#l06585">gkregex.c:6585</a></div></div>
<div class="ttc" id="flexdef_8h_html_a410562391b8aaf2377befe41fcd4c9d1"><div class="ttname"><a href="../../dd/ded/flexdef_8h.html#a410562391b8aaf2377befe41fcd4c9d1">regmatch_dup</a></div><div class="ttdeci">char * regmatch_dup(regmatch_t *m, const char *src)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d03/flex-2_85_835_2regex_8c_source.html#l00074">regex.c:74</a></div></div>
<div class="ttc" id="flexdef_8h_html_a81d270293d8c9593427d903e0d8bc2a4"><div class="ttname"><a href="../../dd/ded/flexdef_8h.html#a81d270293d8c9593427d903e0d8bc2a4">regex_blank_line</a></div><div class="ttdeci">regex_t regex_blank_line</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d03/flex-2_85_835_2regex_8c_source.html#l00031">regex.c:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d4d/filter_8c_a455fb256f99c8a63210ff530408780ef_cgraph.svg" width="695" height="350"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad7e9aee5065c675146930f64fc2f9ed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e9aee5065c675146930f64fc2f9ed7">&#9670;&nbsp;</a></span>filter_tee_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> filter_tee_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td>
          <td class="paramname"><em>chain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Splits the chain in order to write to a header file. Similar in spirit to the 'tee' program. The header file name is in extra. </p><dl class="section return"><dt>Returns</dt><dd>0 (zero) on success, and -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d4d/filter_8c_source.html#l00222">222</a> of file <a class="el" href="../../d2/d4d/filter_8c_source.html">filter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">/* This function reads from stdin and writes to both the C file and the</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">     * header file at the same time.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> readsz = 512;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">char</span>   *<a class="code" href="../../d2/db7/ioapi_8h.html#ae28c9430ba2b97dabdc5ca98ff772987">buf</a>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">int</span>     to_cfd = -1;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    FILE   *to_c = NULL, *to_h = NULL;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">bool</span>    write_header;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    write_header = (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">extra</a> != NULL);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">/* Store a copy of the stdout pipe, which is already piped to C file</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">     * through the running chain. Then create a new pipe to the H file as</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">     * stdout, and fork the rest of the chain again.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> ((to_cfd = dup (1)) == -1)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a864cc32c0dda06dcffa37210e5e3ff8f">flexfatal</a> (_(<span class="stringliteral">&quot;dup(1) failed&quot;</span>));</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    to_c = fdopen (to_cfd, <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (write_header) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (freopen ((<span class="keywordtype">char</span> *) chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">extra</a>, <span class="stringliteral">&quot;w&quot;</span>, stdout) == NULL)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a864cc32c0dda06dcffa37210e5e3ff8f">flexfatal</a> (_(<span class="stringliteral">&quot;freopen(headerfilename) failed&quot;</span>));</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="../../d2/d4d/filter_8c.html#a921d3b9e9cd22ff860cc1416197ccbfc">filter_apply_chain</a> (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        to_h = stdout;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">/* Now to_c is a pipe to the C branch, and to_h is a pipe to the H branch.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (write_header) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        fputs (check_4_gnu_m4, to_h);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        fputs (<span class="stringliteral">&quot;m4_changecom`&#39;m4_dnl\n&quot;</span>, to_h);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        fputs (<span class="stringliteral">&quot;m4_changequote`&#39;m4_dnl\n&quot;</span>, to_h);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        fputs (<span class="stringliteral">&quot;m4_changequote([[,]])[[]]m4_dnl\n&quot;</span>, to_h);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        fputs (<span class="stringliteral">&quot;m4_define([[M4_YY_NOOP]])[[]]m4_dnl\n&quot;</span>, to_h);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        fputs (<span class="stringliteral">&quot;m4_define( [[M4_YY_IN_HEADER]],[[]])m4_dnl\n&quot;</span>,</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;               to_h);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_h, <span class="stringliteral">&quot;#ifndef %sHEADER_H\n&quot;</span>, <a class="code" href="../../db/dd2/structprefix.html">prefix</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_h, <span class="stringliteral">&quot;#define %sHEADER_H 1\n&quot;</span>, <a class="code" href="../../db/dd2/structprefix.html">prefix</a>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_h, <span class="stringliteral">&quot;#define %sIN_HEADER 1\n\n&quot;</span>, <a class="code" href="../../db/dd2/structprefix.html">prefix</a>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_h,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;             <span class="stringliteral">&quot;m4_define( [[M4_YY_OUTFILE_NAME]],[[%s]])m4_dnl\n&quot;</span>,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;             <a class="code" href="../../dd/ded/flexdef_8h.html#ab186b53d8f09834604ad7fe3ea3ee2dd">headerfilename</a> ? <a class="code" href="../../dd/ded/flexdef_8h.html#ab186b53d8f09834604ad7fe3ea3ee2dd">headerfilename</a> : <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    fputs (check_4_gnu_m4, to_c);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    fputs (<span class="stringliteral">&quot;m4_changecom`&#39;m4_dnl\n&quot;</span>, to_c);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    fputs (<span class="stringliteral">&quot;m4_changequote`&#39;m4_dnl\n&quot;</span>, to_c);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    fputs (<span class="stringliteral">&quot;m4_changequote([[,]])[[]]m4_dnl\n&quot;</span>, to_c);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    fputs (<span class="stringliteral">&quot;m4_define([[M4_YY_NOOP]])[[]]m4_dnl\n&quot;</span>, to_c);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_c, <span class="stringliteral">&quot;m4_define( [[M4_YY_OUTFILE_NAME]],[[%s]])m4_dnl\n&quot;</span>,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;         <a class="code" href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a> ? <a class="code" href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a> : <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span>);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    buf = (<span class="keywordtype">char</span> *) <a class="code" href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a> (readsz);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">while</span> (fgets (buf, readsz, stdin)) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        fputs (buf, to_c);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> (write_header)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            fputs (buf, to_h);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (write_header) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_h, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="comment">/* write a fake line number. It will get fixed by the linedir filter. */</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_h, <span class="stringliteral">&quot;#line 4000 \&quot;M4_YY_OUTFILE_NAME\&quot;\n&quot;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_h, <span class="stringliteral">&quot;#undef %sIN_HEADER\n&quot;</span>, <a class="code" href="../../db/dd2/structprefix.html">prefix</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a> (to_h, <span class="stringliteral">&quot;#endif /* %sHEADER_H */\n&quot;</span>, <a class="code" href="../../db/dd2/structprefix.html">prefix</a>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        fputs (<span class="stringliteral">&quot;m4_undefine( [[M4_YY_IN_HEADER]])m4_dnl\n&quot;</span>, to_h);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        fflush (to_h);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span> (ferror (to_h))</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a692bd70226b10874a4e5a45eed4f0ec3">lerrsf</a> (_(<span class="stringliteral">&quot;error writing output file %s&quot;</span>),</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                (<span class="keywordtype">char</span> *) chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">extra</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fclose (to_h))</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a692bd70226b10874a4e5a45eed4f0ec3">lerrsf</a> (_(<span class="stringliteral">&quot;error closing output file %s&quot;</span>),</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                (<span class="keywordtype">char</span> *) chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">extra</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    fflush (to_c);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (ferror (to_c))</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a692bd70226b10874a4e5a45eed4f0ec3">lerrsf</a> (_(<span class="stringliteral">&quot;error writing output file %s&quot;</span>),</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <a class="code" href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a> ? <a class="code" href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a> : <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fclose (to_c))</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a692bd70226b10874a4e5a45eed4f0ec3">lerrsf</a> (_(<span class="stringliteral">&quot;error closing output file %s&quot;</span>),</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <a class="code" href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a> ? <a class="code" href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a> : <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d3/dc8/class_teuchos_1_1_comm.html#a6f2aef379ba1631cba28df10226dbc87">wait</a> (0) &gt; 0) ;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    exit (0);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div><div class="ttc" id="flexdef_8h_html_ab186b53d8f09834604ad7fe3ea3ee2dd"><div class="ttname"><a href="../../dd/ded/flexdef_8h.html#ab186b53d8f09834604ad7fe3ea3ee2dd">headerfilename</a></div><div class="ttdeci">char * headerfilename</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/3rd_party_2flex-2_85_835_2main_8c_source.html#l00066">main.c:66</a></div></div>
<div class="ttc" id="scan_8c_html_a19b88e2ffff444ebffd0fb2bd4b68046"><div class="ttname"><a href="../../d0/d3e/scan_8c.html#a19b88e2ffff444ebffd0fb2bd4b68046">flex_alloc</a></div><div class="ttdeci">void * flex_alloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3e/scan_8c_source.html#l05182">scan.c:5182</a></div></div>
<div class="ttc" id="flex-2_85_835_2misc_8c_html_a864cc32c0dda06dcffa37210e5e3ff8f"><div class="ttname"><a href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a864cc32c0dda06dcffa37210e5e3ff8f">flexfatal</a></div><div class="ttdeci">void flexfatal(char *msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3e/flex-2_85_835_2misc_8c_source.html#l00419">misc.c:419</a></div></div>
<div class="ttc" id="filter_8c_html_a921d3b9e9cd22ff860cc1416197ccbfc"><div class="ttname"><a href="../../d2/d4d/filter_8c.html#a921d3b9e9cd22ff860cc1416197ccbfc">filter_apply_chain</a></div><div class="ttdeci">bool filter_apply_chain(struct filter *chain)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/filter_8c_source.html#l00129">filter.c:129</a></div></div>
<div class="ttc" id="flexdef_8h_html_ad9c99086eb4798bbb0ebd700e6a1da60"><div class="ttname"><a href="../../dd/ded/flexdef_8h.html#ad9c99086eb4798bbb0ebd700e6a1da60">outfilename</a></div><div class="ttdeci">char * outfilename</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/3rd_party_2flex-2_85_835_2main_8c_source.html#l00066">main.c:66</a></div></div>
<div class="ttc" id="structfilter_html_a6b598f761947f18559c9dc5bad1bbbf8"><div class="ttname"><a href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">filter::next</a></div><div class="ttdeci">struct filter * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01176">flexdef.h:1176</a></div></div>
<div class="ttc" id="flex-2_85_835_2misc_8c_html_a692bd70226b10874a4e5a45eed4f0ec3"><div class="ttname"><a href="../../dd/d3e/flex-2_85_835_2misc_8c.html#a692bd70226b10874a4e5a45eed4f0ec3">lerrsf</a></div><div class="ttdeci">void lerrsf(char *msg, arg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3e/flex-2_85_835_2misc_8c_source.html#l00456">misc.c:456</a></div></div>
<div class="ttc" id="g_09_09malloc_8c_html_a49f789e614e57e410f598885b800c2df"><div class="ttname"><a href="../../d4/d98/g_09_09malloc_8c.html#a49f789e614e57e410f598885b800c2df">fprintf</a></div><div class="ttdeci">fprintf(stderr, &quot;\alloc statistics\&quot;)</div></div>
<div class="ttc" id="structprefix_html"><div class="ttname"><a href="../../db/dd2/structprefix.html">prefix</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d43/xmlparse_8c_source.html#l00154">xmlparse.c:154</a></div></div>
<div class="ttc" id="ioapi_8h_html_ae28c9430ba2b97dabdc5ca98ff772987"><div class="ttname"><a href="../../d2/db7/ioapi_8h.html#ae28c9430ba2b97dabdc5ca98ff772987">buf</a></div><div class="ttdeci">voidpf void * buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ioapi_8h_source.html#l00136">ioapi.h:136</a></div></div>
<div class="ttc" id="structfilter_html_ac6e9498e274fc0414fe79f13b9a10d84"><div class="ttname"><a href="../../d2/d9e/structfilter.html#ac6e9498e274fc0414fe79f13b9a10d84">filter::extra</a></div><div class="ttdeci">void * extra</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01173">flexdef.h:1173</a></div></div>
<div class="ttc" id="class_teuchos_1_1_comm_html_a6f2aef379ba1631cba28df10226dbc87"><div class="ttname"><a href="../../d3/dc8/class_teuchos_1_1_comm.html#a6f2aef379ba1631cba28df10226dbc87">Teuchos::Comm::wait</a></div><div class="ttdeci">RCP&lt; CommStatus&lt; Ordinal &gt; &gt; wait(const Comm&lt; Ordinal &gt; &amp;comm, const Ptr&lt; RCP&lt; CommRequest&lt; Ordinal &gt; &gt; &gt; &amp;request)</div><div class="ttdoc">Wait on a single communication request, and return its status. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a65868ce878134a2396c52cd962c78c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65868ce878134a2396c52cd962c78c2a">&#9670;&nbsp;</a></span>filter_truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a> filter_truncate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a> *&#160;</td>
          <td class="paramname"><em>chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dde/build_2include_2omc_2lpsolve_2lp__lib_8h.html#adeb9ec6400320e4923ac9d836d509ddb">int</a>&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncate the chain to max_len number of filters. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chain</td><td>the current chain. </td></tr>
    <tr><td class="paramname">max_len</td><td>the maximum length of the chain. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the resulting length of the chain. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d4d/filter_8c_source.html#l00201">201</a> of file <a class="el" href="../../d2/d4d/filter_8c_source.html">filter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordtype">int</span>     <a class="code" href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 1;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (!chain)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">while</span> (chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a> &amp;&amp; len &lt; max_len) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        chain = chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        ++<a class="code" href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    chain-&gt;<a class="code" href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">next</a> = NULL;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div><div class="ttc" id="build_2_expat_ex_2install_2include_2expat_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">const char int len</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/build_2_expat_ex_2install_2include_2expat_8h_source.html#l00778">expat.h:778</a></div></div>
<div class="ttc" id="structfilter_html_a6b598f761947f18559c9dc5bad1bbbf8"><div class="ttname"><a href="../../d2/d9e/structfilter.html#a6b598f761947f18559c9dc5bad1bbbf8">filter::next</a></div><div class="ttdeci">struct filter * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ded/flexdef_8h_source.html#l01176">flexdef.h:1176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0e070c427db9afd455daa6afb896dfe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e070c427db9afd455daa6afb896dfe2">&#9670;&nbsp;</a></span>output_chain</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/d9e/structfilter.html">filter</a>* output_chain = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>global chain. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d4d/filter_8c_source.html#l00032">32</a> of file <a class="el" href="../../d2/d4d/filter_8c_source.html">filter.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
